tags:: 设计模式，工厂模式

- 工厂模式，提供了一种创建对象的最佳方式。不必关系对象创建的细节，只需要根据不同情况获取不同产品即可。
- ![image.png](../assets/image_1680331743597_0.png)
- 简单工厂
	- ![image.png](../assets/image_1680331819489_0.png)
	- 先定义一个抽象的产品，拥有的属性和行为
	- 然后定义两个不同的具体产品，vanCar和miniCar，定义好这两个产品的具体的属性和行为
	- 定义一个工厂，简单工厂是静态的，就是说，你要已知有哪些具体的产品，根据类型，去创建出不同的具体的产品，在工厂里进行返回。
	- 他比较适合比较简单的，只有几种产品的场景
	- 缺点，如果再有更多的产品需要创建，又要修改工厂方法，其实违背了开闭原则，还要去修改那个if else判断，其实应该直接扩展出一个类来造
	- 如果入参是一个class对象，反射调用方法，但是如果是复杂对象的话，还是无法满足
- 工厂方法模式
	- ![image.png](../assets/image_1680334290130_0.png)
	- 每种具体的产品都有一个对应的具体工厂来进行生产
	- 遵循了开闭原则，增加了一个新的产品的时候，就会对应的创建一个新的工厂来生产这个产品
	- 缺点：系统复杂度增加，产品单一。如果想要造口罩，那现在都不符合了，又要定义抽象工厂，很麻烦
- 抽象工厂
	- ![image.png](../assets/image_1680335220457_0.png)
	- ![image.png](../assets/image_1680335287050_0.png)
	- 好处就是，如果扩展其他业务线，只需要对抽象类做扩展就行了
- 退化
	- •当抽象工厂模式中**每一个具体工厂类只创建一个产品对象**，也就是只存在一个产品等级结构时，**抽象工厂模式退化成工厂方法模式**；当工厂方法模式中抽象工厂与具体工厂合并，提供一个统一的工厂来创建产品对象，并将创建对象的工厂方法设计为静态方法时，**工厂方法模式退化成简单工厂模式**。
- 使用场景
	- NumberFormat、SimpleDateFormat
	- LoggerFactory：
	- SqlSessionFactory：MyBatis
	- BeanFactory：Spring的BeanFactory（就是为了造出bean）
	- ......
-